System.register("uxon/svgLoader.js",[],function(a){"use strict";function b(a){return a.indexOf("http")>=0&&a.indexOf(location.hostname)<0}function c(a){var b=null;if(window.DOMParser){var c=new DOMParser;b=c.parseFromString(a,h);var d=b.getElementsByTagName("parsererror");return d&&d.length&&d[0].childNodes.length||!(b.documentElement instanceof SVGElement)?null:b.documentElement}return b}function d(a){var c=b(a);if(!c||"withCredentials"in XMLHttpRequest.prototype)return new l(a,c);if("undefined"!=typeof XDomainRequest)return new n(a);throw new Error("[UxÃ´n] Too old browser")}var e,f,g,h,i,j,k,l,m,n,o;return a("default",d),{setters:[],execute:function(){e="Unable to access resource",f="Invalid SVG file format",g="GET",h="image/svg+xml",i=function(){},j=function(a){this.cors=!1,this.request=null,this.onRejected=i,this.onFulfilled=i,this.headers=[],this.url=encodeURI(a)},k=j.prototype={addHeader:function(a,b){var c=new Array(2);return c[0]=a+"",c[1]=b+"",this.headers.push(c),this},then:function(a,b){"function"==typeof a&&(this.onFulfilled=a),"function"==typeof b&&(this.onRejected=b)},send:function(){}},l=function(a,b){j.call(this,a),this.cors=!!b;var c=this.request=new XMLHttpRequest;c.open(g,this.url,!0)},m=l.prototype=Object.create(k),m.constructor=l,m.send=function(){var a=this.onRejected,b=this.onFulfilled,d=this.request;this.addHeader("Content-Type",h),"overrideMimeType"in d&&d.overrideMimeType(h),this.cors||this.addHeader("X-Requested-With","XMLHttpRequest"),this.headers.forEach(function(a){d.setRequestHeader(a[0],a[1])}),d.addEventListener("readystatechange",function(){if(4===this.readyState)if(200===this.status)try{var g=null;if(g=this.responseXML&&this.responseXML.documentElement&&"overrideMimeType"in d?this.responseXML.documentElement:c(this.responseText),!g)throw new TypeError(f);b(g)}catch(h){a(h)}else a(new Error(e))}),d.addEventListener("error",function(){a(new Error(e))}),d.addEventListener("timeout",function(){a(new Error(e))}),d.send()},n=function(a){j.call(this,a);var b=this.request=new XDomainRequest;b.open(g,this.url)},o=n.prototype=Object.create(k),o.constructor=n,o.send=function(){var a=this.onRejected,b=this.onFulfilled,d=this.request;d.onload=function(){try{var e=c(d.responseText);if(!e)throw new TypeError(f);b(e)}catch(g){a(g)}},d.onerror=function(){a(e)},d.ontimeout=function(){a(new Error(e))},setTimeout(function(){d.send()},0)}}}}),System.register("uxon/components/Sprite.js",["npm:systemjs-plugin-babel@0.0.2/babel-helpers/classCallCheck.js","npm:systemjs-plugin-babel@0.0.2/babel-helpers/createClass.js","../commons/utils.js","../commons/namespaces.js","./Pictogram.js"],function(a){"use strict";function b(a,b){var c={};return a.id=b,f("symbol[id], g[id]",a).forEach(function(a){a.id=[b,a.id].join("-"),c[a.id]=new k(a)}),f("use",a).forEach(function(a){a.setAttributeNS(j.xlink,"href","#"+b+"-"+a.getAttributeNS(j.xlink,"href").slice(1))}),c}var c,d,e,f,g,h,i,j,k,l,m;return{setters:[function(a){c=a["default"]},function(a){d=a["default"]},function(a){e=a.$,f=a.$$,g=a.$body,h=a.addClass,i=a.isInPage},function(a){j=a["default"]},function(a){k=a["default"]}],execute:function(){l=0,m=function(){function a(d){if(c(this,a),!(d instanceof SVGElement))throw new TypeError("Invalid sprite element");d.setAttribute("aria-hidden",!0),d.removeAttribute("height"),d.removeAttribute("width"),h(d,"uxon"),h(d,"uxon-sprite"),i(d)||g.insertBefore(d,g.firstChild),this.element=d,this.pictograms=b(d,"uxon"+l++)}return d(a,[{key:"clone",value:function(){var c=this.element.cloneNode(!0),d=new a(c);return d.prefix(b),d}},{key:"has",value:function(a){return this.pictograms[a]&&this.pictograms[a]instanceof k}},{key:"find",value:function(a){var b=e("g[id$="+a+"], symbol[id$="+a+"]",this.element);return b?this.get(b.id):null}},{key:"get",value:function(a){return this.pictograms[a]||null}},{key:"remove",value:function(a){return this.has(a)?(this.pictograms[a].parentNode.removeChild(this.pictograms[a]),this.pictograms[a]=null,!0):!1}},{key:"update",value:function(){this.pictograms={},f("symbol[id], g[id]",this.element).forEach(function(a){this.pictograms[a.id]=new k(a)},this)}}]),a}(),a("default",m)}}}),System.register("uxon/commons/utils.js",[],function(a){"use strict";function b(a,b){return"string"==typeof a?(b||document).querySelector(a):null}function c(a,b){return[].slice.call((b||document).querySelectorAll(a))}function d(a){return a===f?!1:f.contains(a)}function e(a,b){"classList"in a?a.classList.add(b):a.className.baseVal+=" "+b}var f;return a("$",b),a("$$",c),a("isInPage",d),a("addClass",e),{setters:[],execute:function(){f=document.body,a("$body",f)}}}),System.register("uxon/commons/namespaces.js",[],function(a){"use strict";var b;return{setters:[],execute:function(){b={svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},a("default",b)}}}),System.register("uxon/commons/MetaData.js",["npm:systemjs-plugin-babel@0.0.2/babel-helpers/classCallCheck.js","npm:systemjs-plugin-babel@0.0.2/babel-helpers/createClass.js"],function(a){"use strict";var b,c,d,e;return{setters:[function(a){b=a["default"]},function(a){c=a["default"]}],execute:function(){d="data-",e=function(){function a(c){b(this,a),this.element=c}return c(a,[{key:"has",value:function(a){return this.element.hasAttribute(d+a)}},{key:"get",value:function(a){return this.element.getAttribute(d+a)}},{key:"set",value:function(a,b){return this.element.setAttribute(d+a,b)}},{key:"remove",value:function(a){return this.element.removeAttribute(d+a)}}]),a}(),a("default",e)}}}),System.register("npm:systemjs-plugin-babel@0.0.2/babel-helpers/classCallCheck.js",[],function(a){"use strict";return{setters:[],execute:function(){a("default",function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")})}}}),System.registerDynamic("npm:systemjs-plugin-babel@0.0.2.json",[],!1,function(){return{main:"plugin-babel.js",map:{"systemjs-babel-build":{browser:"./systemjs-babel-browser.js"}},meta:{"./plugin-babel.js":{format:"cjs"}}}}),System.register("npm:systemjs-plugin-babel@0.0.2/babel-helpers/createClass.js",[],function(a){"use strict";return{setters:[],execute:function(){a("default",function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}())}}}),System.register("uxon/components/Pictogram.js",["npm:systemjs-plugin-babel@0.0.2/babel-helpers/classCallCheck.js","npm:systemjs-plugin-babel@0.0.2/babel-helpers/createClass.js"],function(a){"use strict";var b,c,d;return{setters:[function(a){b=a["default"]},function(a){c=a["default"]}],execute:function(){d=function(){function a(c){if(b(this,a),!(c instanceof SVGElement&&c.id))throw new Error("Invalid pictogram element");this.element=c;var d=this.title=c.getElementsByTagName("title").item(0),e=this.desc=c.getElementsByTagName("desc").item(0);d&&!d.id&&(d.id=c.id+"-title"),e&&!e.id&&(e.id=c.id+"-desc")}return c(a,[{key:"getIRI",value:function(){return"#"+this.element.id}},{key:"getViewBox",value:function(){var a=this.element;return a.viewBox.baseVal&&a.viewBox.baseVal.width>0?a.viewBox.baseVal:a.ownerSVGElement.viewBox.baseVal}}]),a}(),a("default",d)}}}),System.register("uxon/components/Icon.js",["npm:systemjs-plugin-babel@0.0.2/babel-helpers/classCallCheck.js","npm:systemjs-plugin-babel@0.0.2/babel-helpers/createClass.js","../commons/namespaces.js","../commons/MetaData.js","./Pictogram.js"],function(a){"use strict";function b(a,b){for(var c,d=a.attributes,e=d.length-1;e>-1;--e)c=d[e],c.nodeName.indexOf("aria-")>-1&&(b.setAttribute(c.nodeName,c.value),a.removeAttribute(c.nodeName))}function c(a,b){var c=i.push(new m(a,b));return b.set(j,--c),i[c]}var d,e,f,g,h,i,j,k,l,m,n;return{setters:[function(a){d=a["default"]},function(a){e=a["default"]},function(a){f=a["default"]},function(a){g=a["default"]},function(a){h=a["default"]}],execute:function(){i=[],j="uxon-id",k=function(){var a=document.createElementNS(f.svg,"use");return a.setAttributeNS(f.xlink,"href","#empty"),a}(),l=function(){var a=document.createElementNS(f.svg,"svg");return a.className.baseVal="uxon uxon-icon",a.setAttribute("role","img"),a}(),m=function(){function a(c,e){if(d(this,a),!c.parentNode)throw new Error("Icon's element must have a parent node");this.connector=k.cloneNode(),this.element=c,this.meta=e;var f=this.shadow=l.cloneNode();b(c,f),c.setAttribute("aria-hidden","true"),f.appendChild(this.connector),this.element.parentNode.insertBefore(f,c.nextSibling)}return e(a,[{key:"draw",value:function(a){if(!(a instanceof h))throw new TypeError("Invalid pictogram");this.connector.setAttributeNS(f.xlink,"xlink:href","#"+a.element.id);var b=a.getViewBox();this.setViewBox(b.x,b.y,b.width,b.height),a.title&&!this.shadow.hasAttribute("aria-label")&&this.shadow.setAttribute("aria-labelledby",a.title.id),a.desc&&this.shadow.setAttribute("aria-describedby",a.desc.id),this.meta.has("rotate")&&this.rotate(this.meta.get("rotate")),this.meta.has("flip-x")&&this.flipX(),this.meta.has("flip-y")&&this.flipY(),this.meta.has("translate")&&this.translate(this.meta.get("translate").split(",")),this.meta.has("matrix")&&this.matrix(this.meta.get("matrix").split(","))}},{key:"addTransform",value:function(a,b){var c=this.connector,d=c.getAttribute("transform"),e=a+"("+b.join(",")+")";d?d+=" "+e:d=e,c.setAttribute("transform",d)}},{key:"clearTransform",value:function(){this.connector.removeAttribute("transform")}},{key:"flipX",value:function(a){var b=-1*this.getViewBox().width,c=0;this.addTransform("scale",[-1,1],a),this.addTransform("translate",[b,c],a)}},{key:"flipY",value:function(a){var b=0,c=-1*this.getViewBox().height;this.addTransform("scale",[1,-1],a),this.addTransform("translate",[b,c],a)}},{key:"rotate",value:function(a){var b=this.getViewBox();this.addTransform("rotate",[parseFloat(a),b.width/2,b.height/2])}},{key:"translate",value:function(a){var b=this.shadow.style,c=b.transform||b.msTransform||b.webkitTransform||b.oTransform||"";c&&(c+=" "),c+="translate("+a.join(",")+")",b.msTransform=c,b.oTransform=c,b.webkitTransform=c,b.transform=c}},{key:"getRefSize",value:function(){var a=this.getSize();return Math.max(a.height,a.width)}},{key:"getSize",value:function(){return this.shadow.getBoundingClientRect()}},{key:"getViewBox",value:function(){return this.shadow.viewBox.baseVal}},{key:"setViewBox",value:function(a,b,c,d){this.shadow.setAttribute("viewBox",[a,b,c,d].join(" "))}}]),a}(),n={has:function(a){if(a&&a.nodeType){var b=new g(a),c=b.get(j);return c&&i[c]}return!1},load:function(a){if(!a||!a.nodeType)throw new TypeError("Invalid element");var b=new g(a);if(b.has(j)){var d=b.get(j);return i[d]?i[d]:(b.remove(j),c(a,b))}return c(a,b)},remove:function(a){var b=new g(a);if(b.has(j)){var c=b.get(j),d=i[c];return b.remove(j),d.remove(),i[c]=null,!0}return!1}},a("default",n)}}}),System.register("uxon/components/Theme.js",["npm:systemjs-plugin-babel@0.0.2/babel-helpers/classCallCheck.js","npm:systemjs-plugin-babel@0.0.2/babel-helpers/createClass.js","../commons/utils.js","./Icon"],function(a){"use strict";function b(a,b){var c=a.sizeRange,d=b.getRefSize();return(-1===c[0]||d>=c[0])&&(-1===c[1]||d<=c[1])}function c(a,b,c){if(!c)return b;var e=b.sizeRange,f=c.sizeRange,g=a.getRefSize(),h=d(g,(e[0]+e[1])/2),i=d(g,(f[0]+f[1])/2);return h===i?c.container.contains(b.container)?b:c:h>i?c:b}function d(a,b){return Math.max(a,b)-Math.min(a,b)}var e,f,g,h,i,j,k,l;return{setters:[function(a){e=a["default"]},function(a){f=a["default"]},function(a){g=a.$$,h=a.$body,i=a.isInPage},function(a){j=a["default"]}],execute:function(){k=[],l=function(){function a(b){e(this,a),this.container=h,this.sizeRange=new Array(2),this.sprite=b,this.id=k.push(this)-1,this.setSizeRange(-1,-1)}return f(a,[{key:"clone",value:function(){var b=new a(this.sprite);return b.setSizeRange(this.sizeRange[0],this.sizeRange[1]),b.setContainer(this.container),b}},{key:"forEachIcons",value:function(a,b){g("[data-icon][data-theme-id='"+this.id+"']",this.container).forEach(function(c){a.call(b,j.load(c))})}},{key:"getIconsByName",value:function(a){var b=[];return g("[data-icon='"+a+"'][data-theme-id='"+this.id+"']",this.container).forEach(function(a){b.push(j.load(a))}),b}},{key:"render",value:function(){var a,d,e;g("[data-icon]",this.container).forEach(function(f){a=j.load(f),e=this,b(this,a)&&(a.meta.has("theme-id")&&(e=c(this,k[a.meta.get("theme-id")])),e===this&&(a.meta.set("theme-id",this.id),d=this.sprite.find(a.meta.get("icon")),d&&a.draw(d)))},this)}},{key:"setSizeRange",value:function(a,b){this.sizeRange[0]=0|a,this.sizeRange[1]=0|b}},{key:"setContainer",value:function(a){return a&&a.nodeType&&i(a)?(this.container=a,!0):!1}}]),a}(),a("default",l)}}}),System.register("uxon/main.js",["./svgLoader.js","./components/Icon.js","./components/Sprite.js","./components/Theme.js"],function(a){"use strict";function b(a,b,e){e||(e=h),"string"==typeof a?a=d(a):a&&a.request||e(new TypeError("Invalid Request")),a.then(function(a){c(a,b,e)},function(a){e(a)}),a.send()}function c(a,b,c){var d,e=!1;b||(b=h,e=!0),c||(c=h);try{var i=new f(a);d=new g(i),b(d),e&&d.render()}catch(j){c(j)}}var d,e,f,g,h,i,j;return{setters:[function(a){d=a["default"]},function(a){e=a["default"]},function(a){f=a["default"]},function(a){g=a["default"]}],execute:function(){h=function(){},i=e,j=d,a("icons",i),a("initLoader",j),a("load",b),a("make",c)}}});
//# sourceMappingURL=uxon.js.map